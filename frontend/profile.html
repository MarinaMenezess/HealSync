<!DOCTYPE html>
<html lang="pt-br">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>HealSync - Perfil</title>
 <link rel="shortcut icon" type="imagex/png" href="../assets/logo.svg">
 <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100..900&display=swap" rel="stylesheet">
 <link rel="stylesheet" href="style.css">
</head>
<body id="main-body">
  <header>
    <div id="logo">
        <img src="../assets/logo.svg" alt="HealSync Logo">
        <h3>HealSync</h3>
    </div>
    <div id="nav">
        <a href="./index.html">Início</a>
        <a href="./registers.html" id="nav-dynamic-link">Diário</a> 
        <a href="./chat.html" id="nav-link-3">Chat</a>
    </div>
    <div id="info">
       <section class="notification-wrapper">
          <a href="#" id="dropdownToggle" class="notification-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="28" fill="#f1eee4" class="bi bi-bell" viewBox="0 0 16 16">
              <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2M8 1.918l-.797.161A4 4 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4 4 0 0 0-3.203-3.92zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5 5 0 0 1 13 6c0 .88.32 4.2 1.22 6"/>
          </svg> 
              
              <span id="notification-badge" class="badge" style="display: none;"></span> 
              
              <div id="dropdownMenu" class="notification-dropdown">
                  <div class="dropdown-header">
                      <a href="./notifications.html"><h3>Notificações</h3></a>
                  </div>
                  <div class="notification-list"> 
                      </div>
                    </div>
          </a>
      </section>
        <a href="./profile.html"><img src="../assets/user-default.svg" alt="User Avatar"></a>
    </div>
</header>

  <main class="profile-main">
    <div class="profile-card">
      
      <div id="profile-view">
        <div class="profile-header">
          <img src="../assets/user-default.svg" id="profile-avatar-view" alt="User Avatar" class="profile-avatar">
          <a href="#" class="profile-settings" id="toggle-edit-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" id="edit-pp-icon" width="20" height="20" fill="currentColor" class="bi bi-gear-wide" viewBox="0 0 16 16">
                            <path d="M8.932.727c-.243-.97-1.62-.97-1.864 0l-.071.286a.96.96 0 0 1-1.622.434l-.205-.211c-.695-.719-1.888-.03-1.613.931l.08.284a.96.96 0 0 1-1.186 1.187l-.284-.081c-.96-.275-1.65.918-.931 1.613l.211.205a.96.96 0 0 1-.434 1.622l-.286.071c-.97.243-.97 1.62 0 1.864l.286.071a.96.96 0 0 1 .434 1.622l-.211.205c-.719.695-.03 1.888.931 1.613l.284-.08a.96.96 0 0 1 1.187 1.187l-.081.283c-.275.96.918 1.65 1.613.931l.205-.211a.96.96 0 0 1 1.622.434l.071.286c.243.97 1.62.97 1.864 0l.071-.286a.96.96 0 0 1 1.622-.434l.205.211c.695.719 1.888.03 1.613-.931l-.08-.284a.96.96 0 0 1 1.187-1.187l.283.081c.96.275 1.65-.918.931-1.613l-.211-.205a.96.96 0 0 1 .434-1.622l-.286-.071c.97-.243.97-1.62 0-1.864l-.286-.071a.96.96 0 0 1-.434-1.622l.211-.205c.719-.695.03-1.888-.931-1.613l-.205.211a.96.96 0 0 1-1.622-.434zM8 12.997a4.998 4.998 0 1 1 0-9.995 4.998 4.998 0 0 1 0 9.996z"/>
                        </svg>
                    </a>
        </div>
        <div>
          <h1 class="profile-name" id="view-name">Nome do Usuário</h1>
          <p class="profile-email" id="view-email">usuario@email.com</p>
        </div>
        <div class="profile-info-grid">
          <div class="info-item">
            <span>Telefone:</span>
            <p id="view-phone">(XX) XXXXX-XXXX</p>
          </div>
          <div class="info-item">
            <span>Data de Nascimento:</span>
            <p id="view-dob">DD/MM/AAAA</p>
          </div>
          <div class="info-item">
            <span>Gênero:</span>
            <p id="view-gender">Prefiro não dizer</p>
          </div>
          <div class="info-item">
            <span>Cidade:</span>
            <p id="view-city">Minha Cidade</p>
          </div>
        </div>
      </div>
            
      <form id="profile-edit-form" style="display: none;">
        <div class="profile-header" style="position: relative;"> 
                    <div id="avatar-edit-container" style="position: relative; display: inline-block;">
                        <img 
                            src="../assets/user-default.svg" 
                            id="profile-avatar-edit" 
                            alt="User Avatar" 
                            class="profile-avatar"
                            style="cursor: pointer;"
                        >
                        <div id="edit-photo-overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 50%; background: rgba(0, 0, 0, 0.5); display: none; justify-content: center; align-items: center; cursor: pointer;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="white" viewBox="0 0 16 16">
                                <path d="M12.5 16h-9c-2.485 0-4.5-2.015-4.5-4.5V4.5c0-2.485 2.015-4.5 4.5-4.5h9c2.485 0 4.5 2.015 4.5 4.5v7c0 2.485-2.015 4.5-4.5 4.5zm-9-15c-1.933 0-3.5 1.567-3.5 3.5v7c0 1.933 1.567 3.5 3.5 3.5h9c1.933 0 3.5-1.567 3.5-3.5v-7c0-1.933-1.567-3.5-3.5-3.5z"/>
                                <path d="M12.5 5.5c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5zM12.5 9.5c-0.828 0-1.5-0.672-1.5-1.5s0.672-1.5 1.5-1.5 1.5 0.672 1.5 1.5-0.672 1.5-1.5 1.5z"/>
                                <path d="M5.5 3.5h5c0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5h-5c-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5zM3.5 11.5h1c0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5h-1c-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5zM3.5 8.5h1c0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5h-1c-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5zM3.5 5.5h1c0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5h-1c-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5z"/>
                            </svg>
                        </div>
                    </div>
          
                    <div id="photo-options-menu" style="display: none; position: absolute; background: white; border: 1px solid #ccc; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); padding: 15px; z-index: 1000; border-radius: 8px; min-width: 200px; text-align: left;">
                        <a href="#" id="option-change" class="d-block mb-2 menu-item-link" style="text-decoration: none; color: var(--cor-principal);"></a>
                        <a href="#" id="option-remove" class="d-block text-danger menu-item-link" style="text-decoration: none;">Remover Foto de Perfil</a>
                    </div>
                    
                    <input 
                        type="file" 
                        id="profile-picture-file" 
                        name="profile_picture" 
                        accept="image/*" 
                        style="display: none;"
                    >
                    
          <hr>
        </div>
                
                        <div class="form-group mb-3">
          <label for="edit-name" class="form-label">Nome:</label>
          <input type="text" id="edit-name" class="form-control" required>
        </div>
        <div class="form-group mb-3">
          <label for="edit-email" class="form-label">Email (Gerenciado pelo Firebase):</label>
          <input type="email" id="edit-email" class="form-control" disabled>
        </div>

        <div class="profile-info-grid">
          <div class="info-item form-group">
            <label for="edit-phone" class="form-label">Telefone:</label>
            <input type="tel" id="edit-phone" class="form-control" placeholder="(XX) XXXXX-XXXX">
          </div>
          <div class="info-item form-group">
            <label for="edit-dob" class="form-label">Data de Nascimento:</label>
            <input type="date" id="edit-dob" class="form-control" placeholder="DD/MM/AAAA">
          </div>
          <div class="info-item form-group">
            <label for="edit-gender" class="form-label">Gênero:</label>
            <select id="edit-gender" class="form-control">
              <option value="Prefiro não dizer">Prefiro não dizer</option>
              <option value="Masculino">Masculino</option>
              <option value="Feminino">Feminino</option>
              <option value="Outro">Outro</option>
            </select>
          </div>
          <div class="info-item form-group">
            <label for="edit-city" class="form-label">Cidade:</label>
            <input type="text" id="edit-city" class="form-control" placeholder="Minha Cidade">
          </div>
        </div>
      </form>
            
      <div class="profile-actions" id="profile-actions-view">
        <button class="edit-btn">Editar Perfil</button>
        <button class="logout-btn">Sair</button>
      </div>
      
      <div class="profile-actions" id="profile-actions-edit" style="display: none;">
        <button class="save-btn" type="submit" form="profile-edit-form">Salvar</button>
        <button class="cancel-edit-btn" type="button">Cancelar</button>
      </div>
      </div>
    
    <section id="psychologist-request-section" class="profile-card mt-4">
      <button id="btn-toggle-psychologist-request" class="btn btn-primary mb-3">
        É profissional de saúde mental? Clique aqui para solicitar
      </button>

      <div id="psychologist-form-container" style="display: none;">
        <h2>Solicitar Perfil de Psicólogo</h2>
        <p>Preencha os campos abaixo para solicitar a alteração do seu perfil para Psicólogo. Sua solicitação será submetida à validação automática do CFP e, se aprovada, à revisão final de um administrador.</p>
        
        <div class="form-group mb-3">
          <label for="especialidade-input" class="form-label">Especialidade (Ex: TCC, Psicanálise):</label>
          <input type="text" id="especialidade-input" class="form-control" placeholder="Ex: Terapia Cognitivo-Comportamental" required>
        </div>
        
        <div class="form-group mb-3">
          <label for="cfp-input" class="form-label">Número do CFP (Registro):</label>
          <input type="text" id="cfp-input" class="form-control" placeholder="Ex: 06/12345" required>
        </div>
        
        <div class="form-group mb-3">
          <label for="cpf-input" class="form-label">CPF (para validação do CFP):</label>
          <input type="text" id="cpf-input" class="form-control" placeholder="Ex: 123.456.789-00" required>
        </div>
        
        <div class="form-group mb-3">
          <label for="contato-input" class="form-label">Contato Profissional (Ex: CRM, WhatsApp):</label>
          <input type="text" id="contato-input" class="form-control" placeholder="Ex: (99) 99999-9999" required>
        </div>
        
        <button id="btn-request-psychologist" class="btn btn-primary mt-2">
          Enviar Solicitação
        </button>

        <p id="psychologist-request-status" class="mt-3" style="color: green; font-weight: bold;"></p>
      </div>
    </section>
    <nav class="menu">
   <input type="checkbox" href="#" class="menu-open" name="menu-open" id="menu-open"/>
   <label class="menu-open-button" for="menu-open">
    <span class="hamburger hamburger-1"></span>
    <span class="hamburger hamburger-2"></span>
    <span class="hamburger hamburger-3"></span>
   </label>
   <a href="#" class="menu-item" onclick="openModal()"> <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-journal-plus" viewBox="0 0 16 16">
 <path fill-rule="evenodd" d="M8 5.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 .5-.5"/>
 <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"/>
 <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"/>
</svg> </a>
   <a href="./agenda.html" class="menu-item"> <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-calendar-week" viewBox="0 0 16 16">
 <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z"/>
 <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"/>
</svg> </a>
   <a href="./psicologos.html" class="menu-item"> <img src="../assets/psicologist.svg" alt=""> </a>
  </nav>
  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="svg">
    <defs>
     <filter id="shadowed-goo">
       <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10" />
       <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 18 -7" result="goo" />
       <feGaussianBlur in="goo" stdDeviation="3" result="shadow" />
       <feColorMatrix in="shadow" mode="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 -0.2" result="shadow" />
       <feOffset in="shadow" dx="1" dy="1" result="shadow" />
       <feComposite in2="shadow" in="goo" result="goo" />
       <feComposite in2="goo" in="SourceGraphic" result="mix" />
     </filter>
     <filter id="goo">
       <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10" />
       <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 18 -7" result="goo" />
       <feComposite in2="goo" in="SourceGraphic" result="mix" />
     </filter>
    </defs>
  </svg>
  </main>
  <script src="profile.js"></script>
  <script src="script.js"></script>
</body>
</html>